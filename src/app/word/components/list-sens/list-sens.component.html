<div class="list-sens">
    <mat-card>
        <mat-card-header>
            <mat-card-title>{{ 'word.senseList.title' | translate }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div class="list-sens__toolbar">
                <mat-form-field appearance="outline" class="list-sens__field">
                    <mat-label>{{ 'word.form.type.label' | translate }}</mat-label>
                    <mat-select
                        [value]="selectedTypeId()"
                        (selectionChange)="onTypeChange($event.value)"
                    >
                        <mat-option [value]="null">{{ 'word.senseList.placeholder' | translate }}</mat-option>
                        <mat-option *ngFor="let type of types()" [value]="type.id">
                            {{ type.name }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <ng-container *ngIf="selectedTypeId(); else noSelection">
                <div class="list-sens__content">
                    <mat-progress-spinner
                        *ngIf="status() === 'loading'"
                        mode="indeterminate"
                        diameter="36"
                        class="list-sens__spinner"
                    ></mat-progress-spinner>

                    <mat-list *ngIf="status() !== 'loading'">
                        <mat-list-item *ngFor="let word of words(); trackBy: trackByWord">
                            {{ displayWord(word) }}
                            <ng-container *ngIf="senseCounts()[word.wordLangueTypeId] > 0">
                                ({{ senseCounts()[word.wordLangueTypeId] }})
                            </ng-container>
                        </mat-list-item>
                    </mat-list>

                    <div class="list-sens__empty" *ngIf="status() === 'loaded' && words().length === 0">
                        {{ 'word.senseList.empty' | translate }}
                    </div>
                </div>
            </ng-container>

            <ng-template #noSelection>
                <div class="list-sens__hint">{{ 'word.senseList.hint' | translate }}</div>
            </ng-template>
        </mat-card-content>
    </mat-card>
</div>
